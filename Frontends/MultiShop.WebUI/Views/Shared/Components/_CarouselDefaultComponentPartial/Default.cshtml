@model IList<ResultFeatureSliderDTO>
@{
    var hasData = Model != null && Model.Count > 0;
}

<div class="container-fluid mb-5">
    <div class="row px-xl-5">
        <!-- Sol: Ana Slider -->
        <div class="col-lg-8">
            <div id="header-carousel" class="carousel slide carousel-fade mb-4 mb-lg-0" data-ride="carousel">
                @if (hasData)
                {
                    <ol class="carousel-indicators">
                        @for (var i = 0; i < Model.Count; i++)
                        {
                            <li data-target="#header-carousel" data-slide-to="@i" class="@(i == 0 ? "active" : "")"></li>
                        }
                    </ol>

                    <div class="carousel-inner rounded-4 shadow-sm">
                        @for (var i = 0; i < Model.Count; i++)
                        {
                            var item = Model[i];
                            var activeClass = i == 0 ? "active" : "";
                            <div class="carousel-item position-relative @activeClass" style="height: 430px;">
                                <img class="position-absolute w-100 h-100" src="@item.FeatureSliderImageURL" style="object-fit: cover; border-radius: 18px;">
                                <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                                    <div class="p-3 text-center" style="max-width: 700px;">
                                        <h1 class="display-5 text-white fw-bold mb-3 animate__animated animate__fadeInDown">
                                            @item.FeatureSliderTitle
                                        </h1>
                                        <p class="text-white-50 mx-md-5 px-5 animate__animated animate__fadeInUp">
                                            @item.FeatureSliderDescription
                                        </p>
                                        <a class="btn btn-warning fw-semibold rounded-pill px-4 py-2 mt-3 animate__animated animate__fadeInUp" href="#">
                                            Hemen Satın Al
                                        </a>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                }
                else
                {
                    <div class="text-center text-muted py-5">Şu anda slider verisi bulunmuyor.</div>
                }
            </div>
        </div>

        <!-- Sağ: Özel Kampanyalar -->
        @await Component.InvokeAsync("_SpecialOfferComponentPartial")
    </div>

    <!-- Alt: Mini Kampanya Alanı (Aralık Düzenlenmiş Premium Versiyon) -->
    <div class="row g-3 mt-4 px-xl-5">
        <div class="col-md-4">
            <div class="premium-box d-flex align-items-center p-3 rounded-4">
                <div class="premium-icon me-4">
                    <i class="bi bi-truck fs-3"></i>
                </div>
                <div class="premium-text">
                    <h6 class="fw-bold mb-2">500₺ Üzeri Ücretsiz Kargo</h6>
                    <small>Tüm Türkiye’ye hızlı teslimat</small>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="premium-box d-flex align-items-center p-3 rounded-4">
                <div class="premium-icon me-4">
                    <i class="bi bi-shield-check fs-3"></i>
                </div>
                <div class="premium-text">
                    <h6 class="fw-bold mb-2">%100 Güvenli Ödeme</h6>
                    <small>256-bit SSL korumalı altyapı</small>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="premium-box d-flex align-items-center p-3 rounded-4">
                <div class="premium-icon me-4">
                    <i class="bi bi-gem fs-3"></i>
                </div>
                <div class="premium-text">
                    <h6 class="fw-bold mb-2">Seçili Ürünlerde %30 İndirim</h6>
                    <small>Kampanyayı kaçırma!</small>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* === Slider === */
    .carousel-inner {
        border-radius: 18px;
        overflow: hidden;
        box-shadow: 0 6px 20px rgba(0,0,0,.08);
    }

    .carousel-caption {
        background: rgba(0, 0, 0, 0.45);
        border-radius: 18px;
        padding: 2rem;
    }

    .carousel-indicators li {
        background-color: #f2c200 !important;
    }

    /* === Slider Hover Efekti === */
    .carousel-item img {
        transition: transform .6s ease;
    }

    .carousel-item:hover img {
        transform: scale(1.06);
    }

    /* --- Mini Kampanya Kartları (Geniş Aralıklı Premium Versiyon) --- */
    .premium-box {
        background: #fff;
        border: 1px solid #ececec;
        box-shadow: 0 6px 18px rgba(0,0,0,.05);
        transition: all .3s ease;
        border-radius: 14px;
        padding: 18px 24px;
    }

        .premium-box:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 26px rgba(0,0,0,.12);
        }

    .premium-icon {
        position: relative;
        width: 70px;
        height: 70px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, #ffe985, #f2c200);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        font-size: 1.9rem;
        box-shadow: inset 0 0 6px rgba(255,255,255,.6), 0 4px 10px rgba(0,0,0,.1);
        transition: all .4s ease;
        flex-shrink: 0;
        margin-right: 28px; /* ← ikon–metin arası mesafeyi açtık */
    }

    .premium-box:hover .premium-icon {
        transform: scale(1.1);
        box-shadow: 0 0 18px rgba(242, 194, 0, .55);
    }

    .premium-icon::after {
        content: '';
        position: absolute;
        top: 4px;
        left: 4px;
        width: 62px;
        height: 62px;
        border-radius: 50%;
        background: radial-gradient(circle at top left, rgba(255,255,255,.5), transparent 70%);
    }

    .premium-text {
        display: flex;
        flex-direction: column;
        justify-content: center;
        transform: translateY(2px); /* ← metin hafif aşağıda, denge sağlandı */
    }

        .premium-text h6 {
            color: #111;
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 6px !important;
        }

        .premium-text small {
            color: #6c757d;
            font-size: 0.9rem;
        }

</style>
