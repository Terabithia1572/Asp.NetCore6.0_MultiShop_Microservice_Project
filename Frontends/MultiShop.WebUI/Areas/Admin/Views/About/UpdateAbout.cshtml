@model UpdateAboutDTO
@{
    ViewData["Title"] = "Hakkımda Bilgisi Güncelle";
    Layout = "~/Areas/Admin/Views/Shared/_AdminDashboardLayout.cshtml";
}

<div class="d-flex align-items-center justify-content-between mb-4">
    <div>
        <h4 class="fw-semibold mb-1 text-dark">
            <i class="fa-solid fa-user-pen text-warning me-2"></i>Hakkımda Bilgisi Güncelle
        </h4>
        <div class="text-muted">Var olan bilgilerinizi düzenleyebilir ve güncel tutabilirsiniz.</div>
    </div>
    <a href="/Admin/About/Index" class="btn btn-light border shadow-sm">
        <i class="fa-solid fa-arrow-left me-1"></i> Geri Dön
    </a>
</div>

@if (Model == null)
{
    <div class="alert alert-danger mt-4 text-center">Güncellenecek veri bulunamadı.</div>
}
else
{
    <div class="fade-in" style="max-width:850px;margin:auto;">
        <form asp-action="UpdateAbout" method="post" id="updateForm">
            <input type="hidden" asp-for="AboutID" />
            <div class="card border-0 shadow-sm p-4 rounded-3 bg-white">
                <div class="row g-3">
                    <div class="col-md-12">
                        <label asp-for="AboutDescription" class="form-label fw-semibold">Açıklama</label>
                        <textarea asp-for="AboutDescription" class="form-control shadow-sm" rows="3" required></textarea>
                    </div>
                    <div class="col-md-6">
                        <label asp-for="AboutAddress" class="form-label fw-semibold">Adres</label>
                        <input asp-for="AboutAddress" class="form-control shadow-sm" />
                    </div>
                    <div class="col-md-6">
                        <label asp-for="AboutEmail" class="form-label fw-semibold">E-posta</label>
                        <input asp-for="AboutEmail" type="email" class="form-control shadow-sm" />
                    </div>
                    <div class="col-md-6">
                        <label asp-for="AboutPhone" class="form-label fw-semibold">Telefon</label>
                        <input asp-for="AboutPhone" class="form-control shadow-sm" />
                    </div>
                </div>

                <div class="text-end mt-4">
                    <button type="submit" class="btn btn-warning text-dark fw-semibold shadow-sm px-4 py-2">
                        <i class="fa-solid fa-check me-1"></i> Güncelle
                    </button>
                </div>
            </div>
        </form>
    </div>
}

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        const form = document.getElementById("updateForm");
        if (form) {
            form.addEventListener("submit", function (e) {
                e.preventDefault();
                Swal.fire({
                    title: 'Bilgiler güncellenecek',
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonColor: '#ffc107',
                    cancelButtonColor: '#6c757d',
                    confirmButtonText: 'Evet, güncelle'
                }).then(res => { if (res.isConfirmed) form.submit(); });
            });
        }

        document.querySelector('.fade-in')?.classList.add("show");
        window.addEventListener("load", () => {
            const fade = document.querySelector(".fade-in");
            if (fade) {
                fade.style.opacity = 0;
                setTimeout(() => {
                    fade.style.transition = "opacity .6s ease";
                    fade.style.opacity = 1;
                }, 150);
            }
        });
    </script>
}
